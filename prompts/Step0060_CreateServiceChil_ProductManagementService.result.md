{"additionalImports": ["java.util.List", "java.util.Optional", "org.springframework.stereotype.Service", "com.example.demo.exception.ResourceNotFoundException"], "additionalJPAMethods": {"InvestmentTrustRepository": ["Optional<InvestmentTrust> findById(Integer id)", "void deleteById(Integer id)"], "TrustPriceRepository": ["Optional<TrustPrice> findByInvestmentTrustIdAndDate(Integer investmentTrustId, LocalDate date)"], "TrustFeeRepository": ["Optional<TrustFee> findByInvestmentTrustIdAndFeeType(Integer investmentTrustId, FeeType feeType)"]}, "methods": {"createInvestmentTrust": {"annotations": ["@Override", "@Transactional"], "body": "        InvestmentTrust investmentTrust = InvestmentTrust.builder()\n                .name(requestBody.getName())\n                .trustDetails(requestBody.getTrustDetails())\n                .trustPrice(requestBody.getTrustPrice())\n                .trustFee(requestBody.getTrustFee())\n                .build();\n        return investmentTrustRepository.save(investmentTrust);"}, "updateInvestmentTrust": {"annotations": ["@Override", "@Transactional"], "body": "        InvestmentTrust investmentTrust = investmentTrustRepository.findById(id)\n                .orElseThrow(() -> new ResourceNotFoundException(\"InvestmentTrust\", \"id\", id));\n        investmentTrust.setName(requestBody.getName());\n        investmentTrust.setTrustDetails(requestBody.getTrustDetails());\n        investmentTrust.setTrustPrice(requestBody.getTrustPrice());\n        investmentTrust.setTrustFee(requestBody.getTrustFee());\n        return investmentTrustRepository.save(investmentTrust);"}, "deleteInvestmentTrust": {"annotations": ["@Override", "@Transactional"], "body": "        investmentTrustRepository.deleteById(id);"}, "getInvestmentTrusts": {"annotations": ["@Override", "@Transactional(readOnly = true)"], "body": "        return investmentTrustRepository.findAll();"}, "updateTrustPrice": {"annotations": ["@Override", "@Transactional"], "body": "        TrustPrice trustPrice = trustPriceRepository.findByInvestmentTrustIdAndDate(id, requestBody.getDate())\n                .orElseThrow(() -> new ResourceNotFoundException(\"TrustPrice\", \"id\", id));\n        trustPrice.setPrice(requestBody.getPrice());\n        return trustPriceRepository.save(trustPrice);"}, "updateTrustFee": {"annotations": ["@Override", "@Transactional"], "body": "        TrustFee trustFee = trustFeeRepository.findByInvestmentTrustIdAndFeeType(id, requestBody.getFeeType())\n                .orElseThrow(() -> new ResourceNotFoundException(\"TrustFee\", \"id\", id));\n        trustFee.setFeeAmount(requestBody.getFeeAmount());\n        return trustFeeRepository.save(trustFee);"}}}